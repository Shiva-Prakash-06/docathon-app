{% extends "base.html" %}
{% set page_title = form_title %}

{% block content %}
<div class="d-flex justify-content-between align-items-center">
    <h1>{{ form_title }}</h1>
    {% if member %}
    <form action="{{ url_for('delete_member', member_id=member.id) }}" method="POST" onsubmit="return confirm('Are you sure?');">
        <button type="submit" class="btn btn-outline-danger">Delete</button>
    </form>
    {% endif %}
</div>

<div class="card mt-4">
    <div class="card-body">
        <form method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="name" class="form-label">Full Name</label>
                <input type="text" class="form-control" name="name" id="name" value="{{ member.name if member else '' }}" required>
            </div>
            <div class="mb-3">
                <label for="role" class="form-label">Role / Position</label>
                <input type="text" class="form-control" name="role" id="role" value="{{ member.role if member else '' }}" placeholder="e.g., President, Coordinator" required>
            </div>
            <div class="mb-3">
                <label for="photo" class="form-label">Photo (Optional)</label>
                <input class="form-control" type="file" name="photo" id="photo">
                {% if member and member.photo_filename %}
                    <div class="form-text">Current photo: {{ member.photo_filename }}</div>
                {% endif %}
            </div>
            <div class="d-flex justify-content-end">
                <a href="{{ url_for('admin_list_members') }}" class="btn btn-secondary me-2">Cancel</a>
                <button type="submit" class="btn btn-warning">Save Member</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}